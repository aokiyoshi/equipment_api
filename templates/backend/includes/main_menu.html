<script src="https://unpkg.com/vue@3"></script>
<link rel="stylesheet" href="https://cdn.rawgit.com/Chalarangelo/mini.css/v3.0.1/dist/mini-default.min.css">

<header>
  <a href="/" class="logo">EQUIPMENT API</a>
  <a href="/" class="button">Оборудование</a>
  <a href="/equipment-types" class="button">Типы оборудования</a>
  {% if request.user.is_authenticated %}
  <a href="#" class="button">{{ request.user.username }}</a>
  <a href="accounts/logout?next=/" class="button">Выйти</a>
  {% else %}
  <a href="accounts/login" class="button">Войти</a>
  {% endif %}
  <input class="search-input" placeholder="Поиск" />
  <a href="#" class="button search-button">Поиск</a>
</header>


<script>
  searchText = document.querySelector('.search-input');
  document
    .querySelector('.search-button')
    .addEventListener('click', (event) => {
        event.preventDefault();
        if (searchText.value) {
          window.location.href = '/search/' + searchText.value;
        };
     });
  searchText
     .addEventListener('submit', (event) => {
         event.preventDefault();
         if (searchText.value) {
           window.location.href = '/search/' + searchText.value;
         };
      });
</script>